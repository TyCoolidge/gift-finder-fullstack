{"ast":null,"code":"var _jsxFileName = \"/Users/tycool/coding-projects/gift-finder-fullstack/client/src/components/pages/AccountPage.js\";\n\n/*Username up top  logout on top left\nYour gifts\nlist of gifts similar to homepage, each gift linked to username\nedit buttons next to each gift\nedit button takes to to add gift page but parameters are already filled out\nsaving edited gift reflects on userpage and homepage\n*/\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport UserGift from \"../ui/UserGift\";\nimport toDisplayDate from \"date-fns/format\";\nimport Header from \"../ui/Header\";\nimport { connect } from \"react-redux\";\nimport actions from \"../../store/actions\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nclass AccountPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userGifts: [],\n      userSinceDate: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://run.mocky.io/v3/624bafeb-1593-4c68-9f9b-5952d2111755\").then(res => {\n      const currentUser = res.data[0];\n      console.log(currentUser); //TODO make render faster && make current user\n\n      this.setState({\n        userSinceDate: toDisplayDate(currentUser.createdAt, \"MMM. d, y\")\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get(\"https://raw.githubusercontent.com/TyCoolidge/my-app-gift-generator/master/src/mock-data/random-gifts.json\").then(res => {\n      console.log(res.data);\n      const gifts = res.data;\n      this.setState({\n        userGifts: gifts\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  logOutCurrentUser() {\n    this.props.dispatch({\n      type: actions.UPDATE_CURRENT_USER,\n      payload: {}\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-right mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login-page\",\n      className: \"\",\n      onClick: () => {\n        this.logOutCurrentUser();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSignOutAlt,\n      style: {\n        fontSize: \"40px\"\n      },\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml-1 d-inline\",\n      style: {\n        fontSize: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, \"Log Out\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, \"My Account\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"\",\n      style: {\n        fontSize: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, \"Welcome Back: \\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-muted d-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, this.props.currentUser.userName)))), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mb-3\",\n      style: {\n        fontSize: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, \"Member since: \\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-muted d-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, this.state.userSinceDate)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"\",\n      style: {\n        fontSize: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, \"Your created gifts:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/add-gift-page\",\n      className: \"float-right btn-sm btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, \"Create New Gift\")))), this.state.userGifts.filter(gift => {\n      //filter comes first \"higher order\"\n      return gift.createdByUserId === this.props.currentUser.id;\n    }).map(gift => {\n      return /*#__PURE__*/React.createElement(UserGift, {\n        gift: gift,\n        key: gift.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 20\n        }\n      });\n    }));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currentUser: state.currentUser\n  };\n}\n\nexport default connect(mapStateToProps)(AccountPage);","map":{"version":3,"sources":["/Users/tycool/coding-projects/gift-finder-fullstack/client/src/components/pages/AccountPage.js"],"names":["React","Link","UserGift","toDisplayDate","Header","connect","actions","axios","FontAwesomeIcon","faSignOutAlt","AccountPage","Component","constructor","props","state","userGifts","userSinceDate","componentDidMount","get","then","res","currentUser","data","console","log","setState","createdAt","catch","error","gifts","logOutCurrentUser","dispatch","type","UPDATE_CURRENT_USER","payload","render","fontSize","userName","filter","gift","createdByUserId","id","map","mapStateToProps"],"mappings":"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","sourcesContent":["/*Username up top  logout on top left\nYour gifts\nlist of gifts similar to homepage, each gift linked to username\nedit buttons next to each gift\nedit button takes to to add gift page but parameters are already filled out\nsaving edited gift reflects on userpage and homepage\n*/\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport UserGift from \"../ui/UserGift\";\nimport toDisplayDate from \"date-fns/format\";\nimport Header from \"../ui/Header\";\nimport { connect } from \"react-redux\";\nimport actions from \"../../store/actions\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nclass AccountPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userGifts: [],\n      userSinceDate: [],\n    };\n  }\n  componentDidMount() {\n    axios\n      .get(\"https://run.mocky.io/v3/624bafeb-1593-4c68-9f9b-5952d2111755\")\n      .then((res) => {\n        const currentUser = res.data[0];\n        console.log(currentUser);\n        //TODO make render faster && make current user\n        this.setState({\n          userSinceDate: toDisplayDate(currentUser.createdAt, \"MMM. d, y\"),\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    axios\n      .get(\n        \"https://raw.githubusercontent.com/TyCoolidge/my-app-gift-generator/master/src/mock-data/random-gifts.json\"\n      )\n      .then((res) => {\n        console.log(res.data);\n        const gifts = res.data;\n        this.setState({\n          userGifts: gifts,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  logOutCurrentUser() {\n    this.props.dispatch({\n      type: actions.UPDATE_CURRENT_USER,\n      payload: {},\n    });\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-5\"></div>\n        <div className=\"row mt-4\">\n          <div className=\"col\">\n            <Header />\n          </div>\n          <div className=\"col text-right mt-3\">\n            <Link\n              to=\"/login-page\"\n              className=\"\"\n              onClick={() => {\n                this.logOutCurrentUser();\n              }}\n            >\n              <FontAwesomeIcon\n                icon={faSignOutAlt}\n                style={{ fontSize: \"40px\" }}\n                className=\"\"\n              />\n              <div className=\"ml-1 d-inline\" style={{ fontSize: \"20px\" }}>\n                Log Out\n              </div>\n            </Link>\n          </div>\n        </div>\n        <div className=\"row mt-4\">\n          <div className=\"col-12\">\n            <h3 className=\"\">My Account</h3>\n            {/* <h2 className=\"text-muted\"></h2> */}\n          </div>\n        </div>\n        <div className=\"row mt-4\">\n          <div className=\"col-12\">\n            <h2 className=\"\" style={{ fontSize: \"20px\" }}>\n              Welcome Back: &nbsp;\n              <div className=\"text-muted d-inline\">\n                {/* d-inline keeps text together inline  */}\n                {this.props.currentUser.userName}\n              </div>\n            </h2>\n            {/* <h2 className=\"text-muted\"></h2> */}\n          </div>\n        </div>\n        <h2 className=\"mb-3\" style={{ fontSize: \"20px\" }}>\n          Member since: &nbsp;\n          <div className=\"text-muted d-inline\">{this.state.userSinceDate}</div>\n        </h2>\n        <div className=\"row mb-5\">\n          <div className=\"col\">\n            <h2 className=\"\" style={{ fontSize: \"20px\" }}>\n              Your created gifts:\n            </h2>\n          </div>\n          <div className=\"col\">\n            <div className=\"float-right\">\n              <Link\n                to=\"/add-gift-page\"\n                className=\"float-right btn-sm btn-primary\"\n              >\n                Create New Gift\n              </Link>\n            </div>\n          </div>\n        </div>\n        {this.state.userGifts\n          .filter((gift) => {\n            //filter comes first \"higher order\"\n            return gift.createdByUserId === this.props.currentUser.id;\n          })\n          .map((gift) => {\n            return <UserGift gift={gift} key={gift.id} />;\n          })}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\nexport default connect(mapStateToProps)(AccountPage);\n"]},"metadata":{},"sourceType":"module"}